//https://api.coingecko.com/api/v3/coins/ethereum/ohlc?vs_currency=usd&days=30

let OHLC = [
  [1614110400000, 1516.79, 1516.79, 1516.79, 1516.79],
  [1614124800000, 1452.87, 1573.91, 1452.87, 1573.91],
  [1614139200000, 1563.92, 1628.7, 1563.92, 1628.7],
  [1614153600000, 1649.98, 1649.98, 1633.53, 1634.72],
  [1614168000000, 1646.32, 1692.95, 1646.32, 1673.09],
  [1614182400000, 1693.78, 1693.78, 1639.45, 1642.0],
  [1614196800000, 1655.02, 1660.25, 1643.66, 1643.66],
  [1614211200000, 1605.55, 1607.32, 1592.26, 1597.22],
  [1614225600000, 1628.39, 1656.32, 1628.39, 1637.85],
  [1614240000000, 1618.74, 1624.52, 1598.1, 1622.53],
  [1614254400000, 1640.72, 1640.72, 1601.07, 1620.44],
  [1614268800000, 1627.22, 1649.28, 1627.22, 1639.46],
  [1614283200000, 1629.8, 1629.8, 1585.79, 1585.79],
  [1614297600000, 1598.47, 1598.47, 1528.21, 1528.21],
  [1614312000000, 1468.86, 1498.35, 1468.86, 1498.35],
  [1614326400000, 1505.64, 1508.26, 1466.52, 1472.33],
  [1614340800000, 1413.35, 1493.49, 1413.35, 1485.3],
  [1614355200000, 1477.32, 1521.23, 1475.96, 1521.23],
  [1614369600000, 1537.48, 1556.33, 1525.05, 1527.94],
  [1614384000000, 1486.85, 1486.85, 1435.44, 1439.91],
  [1614398400000, 1451.09, 1502.47, 1451.09, 1489.3],
  [1614412800000, 1508.83, 1512.58, 1505.24, 1512.58],
  [1614427200000, 1495.24, 1495.24, 1475.99, 1479.36],
  [1614441600000, 1469.7, 1492.57, 1469.7, 1471.18],
  [1614456000000, 1458.52, 1496.1, 1458.52, 1496.1],
  [1614470400000, 1514.04, 1514.04, 1494.03, 1494.03],
  [1614484800000, 1480.13, 1480.13, 1441.79, 1441.79],
  [1614499200000, 1383.25, 1390.25, 1350.65, 1350.65],
  [1614513600000, 1351.34, 1378.38, 1351.34, 1370.72],
  [1614528000000, 1379.74, 1379.74, 1348.85, 1348.85],
  [1614542400000, 1314.41, 1358.99, 1314.41, 1358.53],
  [1614556800000, 1399.28, 1432.15, 1399.28, 1432.15],
  [1614571200000, 1414.82, 1446.68, 1414.82, 1445.63],
  [1614585600000, 1441.49, 1447.36, 1429.8, 1429.8],
  [1614600000000, 1445.71, 1528.72, 1445.71, 1528.72],
  [1614614400000, 1520.85, 1535.41, 1520.85, 1532.96],
  [1614628800000, 1551.46, 1551.46, 1525.06, 1525.06],
  [1614643200000, 1523.6, 1553.86, 1523.47, 1553.86],
  [1614657600000, 1569.91, 1569.91, 1550.55, 1562.6],
  [1614672000000, 1556.71, 1575.82, 1546.71, 1546.71],
  [1614686400000, 1539.78, 1568.38, 1539.78, 1554.93],
  [1614700800000, 1569.58, 1576.7, 1569.58, 1570.41],
  [1614715200000, 1557.28, 1557.28, 1504.51, 1504.51],
  [1614729600000, 1492.07, 1492.07, 1474.44, 1491.33],
  [1614744000000, 1497.09, 1524.72, 1497.09, 1521.95],
  [1614758400000, 1526.06, 1567.59, 1526.06, 1567.59],
  [1614772800000, 1575.92, 1609.47, 1575.92, 1607.4],
  [1614787200000, 1607.3, 1649.36, 1593.82, 1593.82],
  [1614801600000, 1593.64, 1633.46, 1593.64, 1618.04],
  [1614816000000, 1611.49, 1611.49, 1576.27, 1576.27],
  [1614830400000, 1570.0, 1616.62, 1570.0, 1607.59],
  [1614844800000, 1549.93, 1567.36, 1545.82, 1556.21],
  [1614859200000, 1570.24, 1573.03, 1550.86, 1562.78],
  [1614873600000, 1569.61, 1574.47, 1562.92, 1573.7],
  [1614888000000, 1581.02, 1590.89, 1513.98, 1513.98],
  [1614902400000, 1542.33, 1542.33, 1524.28, 1536.62],
  [1614916800000, 1546.5, 1546.5, 1475.58, 1491.7],
  [1614931200000, 1489.08, 1489.08, 1471.33, 1487.96],
  [1614945600000, 1480.47, 1480.47, 1459.03, 1479.4],
  [1614960000000, 1480.6, 1498.91, 1480.6, 1496.84],
  [1614974400000, 1491.76, 1523.8, 1477.17, 1523.8],
  [1614988800000, 1543.75, 1543.75, 1537.96, 1543.57],
  [1615003200000, 1539.05, 1542.43, 1539.05, 1539.25],
  [1615017600000, 1534.24, 1581.7, 1534.24, 1581.7],
  [1615032000000, 1589.34, 1589.34, 1566.79, 1566.79],
  [1615046400000, 1568.98, 1568.98, 1528.59, 1549.13],
  [1615060800000, 1551.76, 1619.64, 1551.76, 1619.64],
  [1615075200000, 1622.69, 1671.05, 1622.69, 1671.05],
  [1615089600000, 1659.59, 1671.2, 1647.44, 1666.07],
  [1615104000000, 1656.7, 1667.82, 1656.7, 1667.82],
  [1615118400000, 1688.63, 1688.98, 1676.77, 1676.77],
  [1615132800000, 1679.5, 1679.5, 1648.67, 1648.67],
  [1615147200000, 1648.8, 1674.26, 1648.8, 1662.28],
  [1615161600000, 1658.72, 1686.16, 1655.63, 1686.16],
  [1615176000000, 1727.46, 1748.05, 1724.16, 1724.16],
  [1615190400000, 1723.78, 1753.11, 1723.66, 1723.66],
  [1615204800000, 1694.36, 1717.55, 1682.95, 1717.55],
  [1615219200000, 1726.95, 1735.98, 1713.39, 1735.98],
  [1615233600000, 1743.34, 1743.8, 1726.37, 1743.8],
  [1615248000000, 1775.9, 1790.47, 1773.39, 1787.85],
  [1615262400000, 1837.15, 1840.86, 1829.24, 1840.86],
  [1615276800000, 1848.83, 1848.83, 1827.79, 1827.79],
  [1615291200000, 1815.0, 1835.9, 1815.0, 1825.05],
  [1615305600000, 1827.12, 1856.83, 1809.78, 1833.89],
  [1615320000000, 1819.56, 1831.82, 1813.13, 1825.81],
  [1615334400000, 1834.73, 1846.93, 1829.29, 1846.93],
  [1615348800000, 1869.33, 1869.9, 1796.17, 1796.17],
  [1615363200000, 1777.2, 1810.77, 1777.2, 1810.77],
  [1615377600000, 1819.38, 1834.23, 1819.38, 1825.23],
  [1615392000000, 1820.78, 1847.04, 1820.78, 1839.74],
  [1615406400000, 1833.11, 1852.43, 1833.11, 1842.85],
  [1615420800000, 1838.01, 1838.01, 1809.45, 1831.34],
  [1615435200000, 1802.31, 1802.31, 1775.7, 1795.87],
  [1615449600000, 1800.19, 1800.19, 1784.42, 1786.74],
  [1615464000000, 1744.13, 1772.41, 1739.96, 1772.41],
  [1615478400000, 1789.86, 1822.15, 1789.86, 1802.21],
  [1615492800000, 1797.72, 1818.44, 1797.34, 1818.44],
  [1615507200000, 1802.3, 1838.94, 1802.3, 1836.2],
  [1615521600000, 1831.43, 1831.43, 1807.36, 1820.92],
  [1615536000000, 1816.94, 1816.94, 1809.91, 1811.76],
  [1615550400000, 1795.65, 1795.65, 1784.77, 1784.77],
  [1615564800000, 1773.49, 1773.49, 1750.69, 1750.69],
  [1615579200000, 1783.53, 1783.53, 1767.14, 1777.24],
  [1615593600000, 1750.37, 1763.51, 1748.07, 1763.51],
  [1615608000000, 1768.89, 1768.89, 1744.38, 1752.5],
  [1615622400000, 1762.83, 1777.49, 1762.83, 1777.49],
  [1615636800000, 1787.46, 1840.7, 1787.46, 1840.7],
  [1615651200000, 1870.99, 1887.74, 1870.99, 1885.54],
  [1615665600000, 1874.65, 1914.62, 1874.65, 1909.55],
  [1615680000000, 1925.04, 1933.46, 1910.78, 1922.96],
  [1615694400000, 1927.72, 1927.72, 1906.83, 1906.83],
  [1615708800000, 1915.19, 1915.19, 1896.91, 1899.23],
  [1615723200000, 1891.16, 1905.06, 1876.87, 1876.87],
  [1615737600000, 1880.28, 1883.26, 1865.71, 1869.86],
  [1615752000000, 1856.22, 1876.17, 1853.94, 1876.17],
  [1615766400000, 1868.88, 1883.0, 1868.88, 1883.0],
  [1615780800000, 1856.71, 1894.14, 1856.71, 1887.04],
  [1615795200000, 1890.67, 1890.67, 1810.48, 1810.48],
  [1615809600000, 1799.03, 1799.03, 1752.83, 1783.28],
  [1615824000000, 1779.77, 1800.48, 1779.77, 1785.62],
  [1615838400000, 1781.64, 1785.49, 1773.18, 1785.49],
  [1615852800000, 1794.82, 1807.04, 1789.88, 1789.88],
  [1615867200000, 1791.05, 1791.05, 1739.65, 1755.16],
  [1615881600000, 1753.52, 1799.04, 1753.52, 1799.04],
  [1615896000000, 1804.26, 1811.83, 1804.05, 1804.05],
  [1615910400000, 1793.65, 1796.35, 1781.67, 1796.35],
  [1615924800000, 1809.95, 1809.95, 1780.88, 1781.47],
  [1615939200000, 1792.32, 1804.38, 1792.32, 1795.41],
  [1615953600000, 1808.55, 1808.55, 1778.31, 1779.46],
  [1615968000000, 1769.77, 1788.44, 1769.77, 1788.44],
  [1615982400000, 1792.47, 1792.47, 1763.73, 1772.09],
  [1615996800000, 1767.16, 1777.62, 1767.16, 1777.62],
  [1616011200000, 1777.74, 1834.6, 1777.74, 1834.6],
  [1616025600000, 1835.25, 1835.25, 1822.5, 1822.5],
  [1616040000000, 1828.75, 1847.48, 1825.42, 1847.48],
  [1616054400000, 1841.64, 1841.64, 1836.36, 1837.78],
  [1616068800000, 1821.12, 1824.89, 1812.57, 1824.89],
  [1616083200000, 1805.28, 1805.28, 1789.65, 1789.65],
  [1616097600000, 1836.67, 1836.67, 1789.85, 1789.85],
  [1616112000000, 1784.51, 1789.26, 1782.84, 1788.93],
  [1616126400000, 1748.01, 1786.51, 1748.01, 1786.51],
  [1616140800000, 1789.11, 1804.23, 1789.11, 1803.43],
  [1616155200000, 1809.02, 1822.81, 1809.02, 1822.81],
  [1616169600000, 1829.01, 1829.01, 1813.23, 1822.26],
  [1616184000000, 1827.57, 1830.46, 1814.93, 1830.46],
  [1616198400000, 1840.92, 1840.92, 1826.84, 1826.84],
  [1616212800000, 1823.89, 1838.37, 1823.89, 1837.1],
  [1616227200000, 1841.32, 1841.32, 1831.09, 1831.09],
  [1616241600000, 1832.33, 1841.59, 1831.32, 1841.59],
  [1616256000000, 1850.21, 1874.77, 1844.34, 1855.68],
  [1616270400000, 1856.59, 1856.59, 1852.15, 1855.57],
  [1616284800000, 1839.67, 1844.06, 1838.26, 1838.92],
  [1616299200000, 1823.2, 1823.2, 1787.4, 1787.4],
  [1616313600000, 1789.27, 1789.27, 1778.12, 1788.35],
  [1616328000000, 1790.43, 1790.43, 1771.67, 1775.72],
  [1616342400000, 1779.25, 1793.47, 1775.83, 1793.46],
  [1616356800000, 1787.69, 1803.47, 1787.69, 1803.47],
  [1616371200000, 1803.6, 1810.25, 1801.0, 1801.0],
  [1616385600000, 1790.38, 1790.38, 1763.15, 1777.78],
  [1616400000000, 1787.17, 1798.64, 1787.17, 1794.75],
  [1616414400000, 1795.78, 1804.52, 1776.2, 1804.52],
  [1616428800000, 1799.45, 1799.45, 1780.21, 1780.44],
  [1616443200000, 1784.15, 1784.15, 1772.63, 1773.13],
  [1616457600000, 1749.84, 1749.84, 1684.67, 1691.78],
  [1616472000000, 1680.31, 1712.82, 1680.31, 1693.49],
  [1616486400000, 1700.31, 1700.31, 1672.75, 1674.17],
  [1616500800000, 1680.27, 1692.65, 1680.27, 1692.65],
  [1616515200000, 1694.53, 1712.7, 1694.53, 1709.49],
  [1616529600000, 1703.39, 1716.57, 1703.39, 1710.89],
  [1616544000000, 1708.02, 1708.02, 1667.18, 1673.82],
  [1616558400000, 1673.86, 1680.26, 1670.89, 1677.97],
  [1616572800000, 1681.24, 1697.12, 1668.45, 1697.12],
  [1616587200000, 1721.06, 1721.06, 1711.32, 1714.72],
  [1616601600000, 1732.14, 1732.38, 1724.38, 1724.38],
  [1616616000000, 1716.83, 1716.83, 1669.02, 1669.02],
  [1616630400000, 1619.81, 1619.81, 1580.86, 1580.86],
  [1616644800000, 1584.85, 1584.85, 1572.32, 1572.87],
  [1616659200000, 1581.93, 1602.52, 1580.16, 1596.71],
  [1616673600000, 1576.35, 1620.62, 1576.35, 1620.62],
  [1616688000000, 1566.5, 1611.81, 1566.5, 1586.02],
  [1616702400000, 1602.29, 1605.86, 1599.95, 1605.86],
];
var myFinanceJson = OHLC.map(function (value, key) {
  return {
    t: value[0],
    o: value[1],
    h: value[2],
    l: value[3],
    c: value[4],
  };
});

var closedata = OHLC.map((d) => d[4]);

let week_data_bitcoin = {
  prices: [
    [1616112000000, 1780.1596459528505],
    [1616198400000, 1817.1329628084297],
    [1616284800000, 1817.8601431294944],
    [1616371200000, 1790.3780747526928],
    [1616457600000, 1686.8911971580417],
    [1616544000000, 1673.8591835627929],
    [1616702717000, 1608.9692102481295],
  ],
  market_caps: [
    [1616112000000, 205022936620.98633],
    [1616198400000, 209188785173.5874],
    [1616284800000, 209455699202.5177],
    [1616371200000, 206013222508.0891],
    [1616457600000, 195434685366.63266],
    [1616544000000, 192388701720.41965],
    [1616702717000, 185707279273.7851],
  ],
  total_volumes: [
    [1616112000000, 29651777827.921936],
    [1616198400000, 27345983317.046707],
    [1616284800000, 29495472699.399334],
    [1616371200000, 29228757709.8678],
    [1616457600000, 31376731220.175137],
    [1616544000000, 28758919428.479744],
    [1616702717000, 30467738636.92647],
  ],
};

//https://api.coingecko.com/api/v3/coins/ethereum/market_chart?vs_currency=usd&days=7&interval=daily
var week_prices_bitcoin = week_data_bitcoin.prices;
var week_caps_bitcoin = week_data_bitcoin.market_caps;
var week_volumes_bitcoin = week_data_bitcoin.total_volumes;
w_prices_bitcoin = week_prices_bitcoin[0].map((_, colIndex) =>
  week_prices_bitcoin.map((row) => row[colIndex])
);
w_caps_bitcoin = week_caps_bitcoin[0].map((_, colIndex) =>
  week_caps_bitcoin.map((row) => row[colIndex])
);
w_volumes_bitcoin = week_volumes_bitcoin[0].map((_, colIndex) =>
  week_volumes_bitcoin.map((row) => row[colIndex])
);
dates = week_data_bitcoin.prices.map((f) =>
  new Date(f[0]).toString().substring(4, 11)
);
console.log(w_caps_bitcoin[1]);
console.log(w_volumes_bitcoin[1]);
console.log(w_prices_bitcoin[1]);
