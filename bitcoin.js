//https://api.coingecko.com/api/v3/coins/bitcoin/ohlc?vs_currency=usd&days=30

let OHLC = [
  [1614110400000, 46953.7, 46953.7, 46953.7, 46953.7],
  [1614124800000, 45680.44, 48716.9, 45680.44, 48716.9],
  [1614139200000, 48691.89, 50484.58, 48274.8, 50374.47],
  [1614153600000, 51220.32, 51220.32, 50124.25, 50124.25],
  [1614168000000, 50510.02, 51051.01, 50289.15, 50289.15],
  [1614182400000, 50473.37, 50473.37, 49440.68, 49507.28],
  [1614196800000, 49825.05, 50065.34, 49687.08, 49861.04],
  [1614211200000, 48965.81, 49151.14, 48879.94, 49023.96],
  [1614225600000, 49925.74, 50942.31, 49925.74, 50827.74],
  [1614240000000, 50478.84, 50577.58, 49902.48, 50577.58],
  [1614254400000, 50575.52, 50575.52, 49288.68, 49829.59],
  [1614268800000, 50461.1, 51775.01, 50461.1, 50971.58],
  [1614283200000, 50870.24, 50870.24, 49531.05, 49582.13],
  [1614297600000, 49700.14, 49700.14, 48267.66, 48267.66],
  [1614312000000, 46992.67, 47671.05, 46513.12, 47671.05],
  [1614326400000, 47629.32, 47629.32, 45823.39, 46455.56],
  [1614340800000, 44593.79, 46681.63, 44593.79, 46629.15],
  [1614355200000, 46744.14, 47169.85, 46504.93, 47169.85],
  [1614369600000, 47801.42, 48327.93, 47692.34, 47828.05],
  [1614384000000, 46927.02, 46927.02, 45903.14, 45939.1],
  [1614398400000, 46530.65, 47944.45, 46530.65, 47364.92],
  [1614412800000, 47936.15, 47936.15, 47887.92, 47892.4],
  [1614427200000, 47346.22, 47346.22, 46765.89, 47020.15],
  [1614441600000, 47431.86, 47616.43, 47146.01, 47146.01],
  [1614456000000, 46771.63, 47303.75, 46771.63, 47303.75],
  [1614470400000, 47542.77, 47542.77, 46619.86, 46619.86],
  [1614484800000, 46108.12, 46727.72, 45567.95, 45567.95],
  [1614499200000, 44779.46, 45064.78, 44779.46, 44790.57],
  [1614513600000, 44655.45, 45473.06, 44655.45, 45473.06],
  [1614528000000, 45485.59, 45485.59, 44388.66, 44423.83],
  [1614542400000, 43523.28, 43843.39, 43382.19, 43843.39],
  [1614556800000, 44663.72, 45358.69, 44663.72, 45251.16],
  [1614571200000, 45089.16, 46690.48, 45089.16, 46690.48],
  [1614585600000, 46488.85, 46591.83, 45960.33, 45960.33],
  [1614600000000, 46426.72, 47899.02, 46426.72, 47899.02],
  [1614614400000, 47787.42, 48308.66, 47787.42, 48308.66],
  [1614628800000, 49414.36, 49414.36, 48614.57, 48614.57],
  [1614643200000, 48405.1, 49218.21, 48405.1, 49218.21],
  [1614657600000, 49833.88, 49833.88, 49122.41, 49543.79],
  [1614672000000, 49061.08, 49114.07, 48721.76, 48721.76],
  [1614686400000, 48547.51, 49245.88, 48547.51, 48861.12],
  [1614700800000, 49044.86, 49076.51, 48947.25, 48947.25],
  [1614715200000, 48705.27, 48705.27, 47569.3, 47824.52],
  [1614729600000, 47713.36, 47965.9, 47586.13, 47965.9],
  [1614744000000, 48550.03, 49063.8, 48550.03, 48792.79],
  [1614758400000, 48823.65, 49703.52, 48823.65, 49703.52],
  [1614772800000, 49859.2, 51587.56, 49859.2, 51587.56],
  [1614787200000, 51596.31, 52466.4, 50861.46, 50861.46],
  [1614801600000, 50794.07, 51618.5, 50794.07, 51196.87],
  [1614816000000, 50983.48, 50998.33, 50580.1, 50613.6],
  [1614830400000, 50410.72, 51566.27, 50410.72, 51104.58],
  [1614844800000, 49461.03, 49784.38, 49169.67, 49414.46],
  [1614859200000, 49932.38, 50217.07, 49017.76, 49384.94],
  [1614873600000, 49508.75, 49852.54, 49036.32, 49036.32],
  [1614888000000, 49824.28, 49850.6, 47658.26, 47658.26],
  [1614902400000, 48471.12, 48498.51, 48193.45, 48498.51],
  [1614916800000, 48727.45, 48727.45, 46751.38, 47482.35],
  [1614931200000, 47400.96, 47571.83, 46691.59, 47571.83],
  [1614945600000, 47329.31, 47329.31, 46698.18, 47323.6],
  [1614960000000, 47850.59, 48552.18, 47841.92, 48185.89],
  [1614974400000, 48237.44, 48619.4, 47677.65, 48619.4],
  [1614988800000, 49441.81, 49441.81, 49140.53, 49140.53],
  [1615003200000, 49051.34, 49051.34, 48757.51, 48762.69],
  [1615017600000, 48705.3, 49021.51, 48581.52, 49021.51],
  [1615032000000, 48992.49, 48992.49, 48199.66, 48199.66],
  [1615046400000, 48221.46, 48221.46, 47412.59, 47753.16],
  [1615060800000, 47747.92, 48649.58, 47747.92, 48649.58],
  [1615075200000, 48484.82, 49110.27, 48484.82, 49110.27],
  [1615089600000, 48972.76, 49625.06, 48972.76, 49625.06],
  [1615104000000, 49624.84, 49624.84, 49396.09, 49396.09],
  [1615118400000, 50358.1, 51058.04, 50358.1, 50659.44],
  [1615132800000, 50757.93, 50843.71, 50569.88, 50569.88],
  [1615147200000, 50588.87, 51150.49, 50568.71, 50568.71],
  [1615161600000, 50330.6, 50654.47, 50193.88, 50654.47],
  [1615176000000, 51174.18, 51671.14, 50724.89, 50724.89],
  [1615190400000, 50569.53, 50856.79, 50291.79, 50291.79],
  [1615204800000, 49852.89, 50387.11, 49851.22, 50387.11],
  [1615219200000, 50515.48, 50948.46, 50379.65, 50829.8],
  [1615233600000, 51120.8, 51120.8, 50716.25, 50801.03],
  [1615248000000, 51340.24, 51982.44, 51340.24, 51558.11],
  [1615262400000, 52406.6, 53595.69, 52406.6, 53595.69],
  [1615276800000, 53850.18, 54207.54, 53752.63, 53752.63],
  [1615291200000, 53518.38, 54161.25, 53518.38, 54161.25],
  [1615305600000, 54197.21, 54805.53, 53716.43, 54535.21],
  [1615320000000, 53995.82, 54116.54, 53905.92, 53986.35],
  [1615334400000, 54275.98, 55072.13, 54275.98, 55072.13],
  [1615348800000, 54872.35, 55541.67, 53915.37, 53915.37],
  [1615363200000, 53492.99, 54000.42, 53492.99, 54000.42],
  [1615377600000, 54452.96, 55161.21, 54452.96, 54952.52],
  [1615392000000, 54891.75, 56206.08, 54891.75, 56144.09],
  [1615406400000, 56233.33, 57003.92, 56233.33, 56727.42],
  [1615420800000, 56767.82, 57051.13, 56321.55, 57009.78],
  [1615435200000, 56020.49, 56376.58, 55760.89, 56376.58],
  [1615449600000, 55954.51, 55954.51, 55242.41, 55585.93],
  [1615464000000, 54681.95, 55822.12, 54681.88, 55822.12],
  [1615478400000, 56461.86, 57282.35, 56461.86, 56854.86],
  [1615492800000, 56340.7, 57626.96, 56340.7, 57626.96],
  [1615507200000, 57073.36, 58068.63, 57073.36, 58068.63],
  [1615521600000, 57924.42, 57924.42, 56899.91, 57091.59],
  [1615536000000, 57096.37, 57336.75, 56828.2, 57131.19],
  [1615550400000, 56786.76, 56843.41, 56591.37, 56843.41],
  [1615564800000, 56526.41, 56526.41, 55877.02, 56205.14],
  [1615579200000, 57142.39, 57600.26, 57142.39, 57539.29],
  [1615593600000, 57176.6, 57296.4, 56877.41, 57296.4],
  [1615608000000, 57228.2, 57228.2, 56355.82, 56655.93],
  [1615622400000, 56759.53, 57086.56, 56759.53, 57086.56],
  [1615636800000, 57800.12, 59223.28, 57507.99, 59223.28],
  [1615651200000, 59900.36, 60019.15, 59859.76, 59926.72],
  [1615665600000, 59674.24, 60382.3, 59674.24, 60200.26],
  [1615680000000, 60724.9, 61599.22, 60724.9, 61109.63],
  [1615694400000, 61199.56, 61326.08, 61042.42, 61042.42],
  [1615708800000, 61339.67, 61339.67, 61037.85, 61037.85],
  [1615723200000, 60647.11, 61039.7, 60376.25, 60376.25],
  [1615737600000, 60258.93, 60459.05, 59969.59, 60060.95],
  [1615752000000, 59618.13, 60237.93, 59618.13, 60237.93],
  [1615766400000, 59943.76, 60318.89, 59943.76, 60268.17],
  [1615780800000, 59195.4, 60209.24, 59195.4, 60209.24],
  [1615795200000, 60520.56, 60520.56, 58697.52, 58697.52],
  [1615809600000, 58055.51, 58055.51, 55527.64, 56553.59],
  [1615824000000, 56397.15, 57157.65, 56397.15, 56711.81],
  [1615838400000, 56304.65, 56410.94, 55939.55, 56255.4],
  [1615852800000, 56860.22, 57004.75, 56225.51, 56225.51],
  [1615867200000, 55856.65, 55856.65, 54314.18, 54700.96],
  [1615881600000, 54461.8, 55493.41, 54100.06, 55493.41],
  [1615896000000, 55447.28, 56098.89, 55447.28, 56035.95],
  [1615910400000, 55505.13, 55701.12, 55063.93, 55701.12],
  [1615924800000, 55944.5, 55944.5, 55515.0, 55529.36],
  [1615939200000, 55953.57, 56607.05, 55953.57, 56561.46],
  [1615953600000, 56830.25, 56830.25, 56021.44, 56021.44],
  [1615968000000, 55767.56, 56390.31, 55767.56, 56390.31],
  [1615982400000, 55982.96, 55982.96, 54736.85, 55257.53],
  [1615996800000, 55064.96, 55515.79, 54928.7, 54928.7],
  [1616011200000, 55047.93, 57990.23, 55047.93, 57990.23],
  [1616025600000, 58006.37, 58690.54, 58006.37, 58639.39],
  [1616040000000, 59269.23, 59275.92, 59183.52, 59246.34],
  [1616054400000, 58864.01, 59262.27, 58864.01, 59182.05],
  [1616068800000, 58422.9, 58733.42, 58240.6, 58733.42],
  [1616083200000, 58318.78, 58318.78, 58039.46, 58054.01],
  [1616097600000, 60119.69, 60119.69, 58183.19, 58183.19],
  [1616112000000, 57838.58, 58087.88, 57838.58, 57878.93],
  [1616126400000, 56570.87, 57715.49, 56570.87, 57715.49],
  [1616140800000, 58039.57, 58378.5, 58039.57, 58378.5],
  [1616155200000, 58340.07, 58920.06, 58256.64, 58782.64],
  [1616169600000, 59337.51, 59337.51, 58502.61, 58992.83],
  [1616184000000, 59058.95, 59058.95, 58458.55, 58954.92],
  [1616198400000, 59252.92, 59252.92, 58520.5, 58520.5],
  [1616212800000, 58613.36, 58935.47, 58613.36, 58706.55],
  [1616227200000, 58844.28, 58844.28, 58466.41, 58659.34],
  [1616241600000, 58905.69, 59068.05, 58905.69, 59015.58],
  [1616256000000, 59359.52, 60104.35, 59034.08, 59775.94],
  [1616270400000, 59003.26, 59474.15, 59003.26, 59474.15],
  [1616284800000, 59094.25, 59094.25, 58705.98, 58705.98],
  [1616299200000, 58593.55, 58593.55, 57685.01, 57685.01],
  [1616313600000, 58059.34, 58059.34, 57204.83, 57358.59],
  [1616328000000, 57195.51, 57405.66, 56127.54, 56397.69],
  [1616342400000, 56421.46, 57348.44, 56421.46, 57294.3],
  [1616356800000, 57206.58, 57721.71, 57206.58, 57721.71],
  [1616371200000, 57753.53, 58285.0, 57753.53, 57811.5],
  [1616385600000, 57354.74, 57354.74, 56559.61, 57148.61],
  [1616400000000, 57759.96, 57884.2, 57729.13, 57804.86],
  [1616414400000, 57653.03, 58191.15, 57154.46, 58191.15],
  [1616428800000, 57778.04, 57778.04, 57168.61, 57176.08],
  [1616443200000, 57213.05, 57213.05, 56512.05, 56512.05],
  [1616457600000, 56012.01, 56012.01, 54109.0, 54580.3],
  [1616472000000, 54370.14, 55273.07, 54370.14, 54670.87],
  [1616486400000, 54705.47, 54705.47, 53728.75, 53879.6],
  [1616500800000, 54076.24, 54663.26, 54076.24, 54663.26],
  [1616515200000, 54595.68, 55290.93, 54595.68, 55060.87],
  [1616529600000, 55025.9, 55701.85, 55025.9, 55532.51],
  [1616544000000, 55002.6, 55002.6, 54401.02, 54528.11],
  [1616558400000, 54535.55, 54611.54, 54261.96, 54379.36],
  [1616572800000, 54624.24, 55532.82, 53872.65, 55532.82],
  [1616587200000, 56230.41, 56533.97, 56230.41, 56533.97],
  [1616601600000, 56825.39, 56830.93, 56508.8, 56508.8],
  [1616616000000, 56166.7, 56194.67, 55430.55, 55430.55],
  [1616630400000, 54260.99, 54260.99, 52665.1, 52665.1],
  [1616644800000, 52656.93, 52656.93, 52104.0, 52396.97],
  [1616659200000, 52505.79, 53277.37, 52505.79, 52842.48],
  [1616673600000, 52462.21, 53029.92, 52462.21, 53029.92],
  [1616688000000, 51849.3, 51849.3, 50846.3, 50846.3],
  [1616702400000, 51086.84, 51580.39, 51086.84, 51580.39],
];
var myFinanceJson = OHLC.map(function (value, key) {
  return {
    t: value[0],
    o: value[1],
    h: value[2],
    l: value[3],
    c: value[4],
  };
});

var closedata = OHLC.map((d) => d[4]);

let week_data_bitcoin = {
  prices: [
    [1616025600000, 59014.92563205099],
    [1616112000000, 57922.40959262911],
    [1616198400000, 58243.27060892363],
    [1616284800000, 58376.15847137206],
    [1616371200000, 57573.539344778685],
    [1616457600000, 54370.137557895185],
    [1616544000000, 54584.86994699455],
    [1616625665000, 52601.83554704902],
  ],
  market_caps: [
    [1616025600000, 1101028543248.462],
    [1616112000000, 1081065767945.8683],
    [1616198400000, 1086741150606.8165],
    [1616284800000, 1090022321077.5006],
    [1616371200000, 1074356788297.177],
    [1616457600000, 1020641820438.662],
    [1616544000000, 1017637245492.0177],
    [1616625665000, 979792956652.0656],
  ],
  total_volumes: [
    [1616025600000, 63368268626.27834],
    [1616112000000, 58387006275.72827],
    [1616198400000, 51948388930.75819],
    [1616284800000, 54549112635.671715],
    [1616371200000, 55664123837.602554],
    [1616457600000, 62001716794.84347],
    [1616544000000, 60383378707.04851],
    [1616625665000, 66351962710.56178],
  ],
};

//https://api.coingecko.com/api/v3/coins/bitcoin/market_chart?vs_currency=usd&days=7&interval=daily
var week_prices_bitcoin = week_data_bitcoin.prices;
var week_caps_bitcoin = week_data_bitcoin.market_caps;
var week_volumes_bitcoin = week_data_bitcoin.total_volumes;
w_prices_bitcoin = week_prices_bitcoin[0].map((_, colIndex) =>
  week_prices_bitcoin.map((row) => row[colIndex])
);
w_caps_bitcoin = week_caps_bitcoin[0].map((_, colIndex) =>
  week_caps_bitcoin.map((row) => row[colIndex])
);
w_volumes_bitcoin = week_volumes_bitcoin[0].map((_, colIndex) =>
  week_volumes_bitcoin.map((row) => row[colIndex])
);
dates = week_data_bitcoin.prices.map((f) =>
  new Date(f[0]).toString().substring(4, 11)
);
console.log(w_caps_bitcoin[1]);
console.log(w_volumes_bitcoin[1]);
console.log(w_prices_bitcoin[1]);
